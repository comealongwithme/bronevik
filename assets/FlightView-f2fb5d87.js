import{d as U,c as h,r as k,o as F,a as V,b as e,t as d,u as i,e as s,h as u,f as R,_ as A,g as B,F as C,v as D,n as N,p as w,j as b,k as j,U as E}from"./index-0f3350db.js";const S={class:"container"},$={class:"space-y-8 mt-8"},L={class:"text-5xl font-bold"},M={class:"grid grid-cols-2 grid-rows-2"},O=e("p",{class:"text-xl font-semibold"},"Departure",-1),P=e("p",{class:"text-xl font-semibold"},"Arrival",-1),T={key:0,class:"container"},q={class:"space-y-4"},z=e("div",{class:"text-center"},[e("h3",{class:"font-semibold text-xl"},"Edit record")],-1),G={class:"space-y-4"},H={class:"flex justify-center"},K=U({__name:"FlightView",setup(I){const p=D(),o=N(),m=w(),x=h(()=>o.state.users.currentUser.role===E.admin),t=k({flight_number:"",arrival_point:"",departure_point:"",arrival_time:"",departure_time:""}),n=h(()=>o.state.flights.list.get(p.params.id)),y=()=>{o.dispatch("flights/updateFlightRecord",{pb:m,flight:{...t.value,id:p.params.id}})};return F(()=>{o.dispatch("flights/getOne",{pb:m,id:p.params.id}).then(r=>{t.value.flight_number=r.flight_number,t.value.arrival_point=r.arrival_point,t.value.departure_point=r.departure_point,t.value.arrival_time=r.arrival_time,t.value.departure_time=r.departure_time})}),(r,a)=>{var _,c,v,f,g;return b(),V(C,null,[e("section",S,[e("div",$,[e("h1",L,"Flight â„–"+d((_=i(n))==null?void 0:_.flight_number),1),e("div",M,[e("div",null,[O,e("p",null,d((c=i(n))==null?void 0:c.departure_time),1),e("p",null,d((v=i(n))==null?void 0:v.departure_point),1)]),e("div",null,[P,e("p",null,d((f=i(n))==null?void 0:f.arrival_time),1),e("p",null,d((g=i(n))==null?void 0:g.arrival_point),1)])])])]),i(x)?(b(),V("section",T,[e("div",q,[z,e("div",G,[s(u,{label:"Flight number",id:"flight_number",type:"text","max-length":4,modelValue:t.value.flight_number,"onUpdate:modelValue":a[0]||(a[0]=l=>t.value.flight_number=l)},null,8,["modelValue"]),s(u,{label:"Arrival point",id:"arrival_point",type:"text",modelValue:t.value.arrival_point,"onUpdate:modelValue":a[1]||(a[1]=l=>t.value.arrival_point=l)},null,8,["modelValue"]),s(u,{label:"Departure point",id:"departure_point",type:"text",modelValue:t.value.departure_point,"onUpdate:modelValue":a[2]||(a[2]=l=>t.value.departure_point=l)},null,8,["modelValue"]),s(u,{label:"Arrival time",id:"arrival_time",type:"time",modelValue:t.value.arrival_time,"onUpdate:modelValue":a[3]||(a[3]=l=>t.value.arrival_time=l)},null,8,["modelValue"]),s(u,{label:"Departure time",id:"departure_time",type:"time",modelValue:t.value.departure_time,"onUpdate:modelValue":a[4]||(a[4]=l=>t.value.departure_time=l)},null,8,["modelValue"])]),e("div",H,[s(A,{onClick:y,"is-loading":i(o).state.users.isLoading},{default:R(()=>[j("Update")]),_:1},8,["is-loading"])])])])):B("",!0)],64)}}});export{K as default};
