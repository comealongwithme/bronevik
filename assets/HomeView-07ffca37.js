import{d as g,r as x,c as C,o as y,a as n,u as p,b as s,e as c,w as l,_,f as b,F as m,g as B,h as t,i as V,j as w,k as F,t as a,l as N,m as L,U as P,n as U}from"./index-9463cba9.js";const $={key:0,class:"container mb-8"},A={class:"flex space-x-4"},M={class:"container"},R={class:"space-y-4"},S={class:"flex flex-col space-y-4"},j={class:"font-semibold space-x-2"},H=g({__name:"HomeView",setup(D){const r=N(),f=L(),i=x(),h=C(()=>r.state.users.currentUser.role===P.admin),d=u=>{r.dispatch("flights/getList",{pb:f,page:1,perPage:50,force:u}).then(o=>{i.value=Array.from(o.values())})},k=()=>{r.commit("modals/openModal","CreateFlightRecord")};return y(()=>{d(!1)}),(u,o)=>{const v=U("router-link");return t(),n(m,null,[p(h)?(t(),n("section",$,[s("div",A,[c(_,{onClick:k},{default:l(()=>[V("Create flight record")]),_:1}),c(_,{onClick:o[0]||(o[0]=e=>d(!0))},{default:l(()=>[c(p(w),{class:"h-6 w-6"})]),_:1})])])):b("",!0),s("section",M,[s("div",R,[s("div",S,[(t(!0),n(m,null,B(i.value,e=>(t(),F(v,{to:`/flight/${e.id}`},{default:l(()=>[(t(),n("article",{class:"border rounded-md p-4 space-y-4 transition hover:bg-gray-100",key:e.id},[s("h3",j,[s("span",null,"â„– "+a(e.flight_number),1),s("span",null,a(e.departure_point)+" -> "+a(e.arrival_point),1),s("span",null,a(e.departure_time)+" -> "+a(e.arrival_time),1)])]))]),_:2},1032,["to"]))),256))])])])],64)}}});export{H as default};
